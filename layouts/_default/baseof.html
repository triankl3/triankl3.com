<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        {{ $normalize_style := resources.Get "css/modern-normalize.css" | resources.Minify }}
        <link rel="stylesheet" href="{{ $normalize_style.RelPermalink }}">

        {{ $main_style := resources.Get "sass/main.scss" | resources.ExecuteAsTemplate "main_parsed.scss" . | resources.ToCSS (dict "targetPath" "css/site.css" "outputStyle" "compressed") | resources.Minify }}
        <link rel="stylesheet" href="{{ $main_style.RelPermalink }}">

        {{ $masonry_js := resources.Get "js/masonry.js" | minify }}
        <script src="{{ $masonry_js.RelPermalink }}"></script>

        {{ $fitty_js := resources.Get "js/fitty.js" | minify }}
        <script src="{{ $fitty_js.RelPermalink }}"></script>

        {{ $scrollToElement_js := resources.Get "js/scrollToElement.js" | minify }}
        <script src="{{ $scrollToElement_js.RelPermalink }}"></script>

        <title>
            {{- if .IsHome -}}
              Home | {{ .Site.Title }}
            {{- else if .Page.Title -}}
              {{ .Page.Title }} | {{ .Site.Title }}
            {{- else -}}
              {{ .Site.Title }}
            {{- end -}}
           </title> 
    </head>
    <body>
        <div class="noise-bg"></div>

        {{ block "main" . }}{{ end }}

        <footer>
            <p>Design and content subject to copyright Nikola Pešević - triankl3.com. Source code available on GitHub.</p>
        </footer>
    </body>

    <script> //Initialize scripts here
      var elem = document.querySelector('.msnry-grid');
      var msnry = new Masonry( elem, {
        // options
        itemSelector: '.msnry-grid-item',
        columnWidth: 200
      });

      fitty('.fit-fitty', {
        minSize: 24,
        maxSize: 256,
      });
    </script>
</html>