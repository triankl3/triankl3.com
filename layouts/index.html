{{ define "main" }}

{{ partial "nav.html" . }}

{{ partial "grid.html" . }}

<div class="cube-container" style="top: 25%; left: 30%;">
    {{ partial "cube.html" . }}
</div>
<div class="cube-container" style="bottom: 25%; right: 30%;">
    {{ partial "cube.html" . }}
</div>


<div class="content-wrapper">
    <div id="about">
        <img src="/img/about-main.svg" style="user-select: none;" draggable="false">
    </div>
    
    <div id="projects">
        <div class="posts-showcase">
            <div class="posts-showcase-alltags">
                <ul class="post-tags">
                    <li class="post-tag post-tag-selected">all</li>
                    {{ range $name, $taxonomy := .Site.Taxonomies.tags }}
                        <li class="post-tag">{{ $name }}</li>
                    {{ end }}
                </ul>
            </div>

            {{ range (where .Site.Pages "Section" "projects") }}
                {{ range .Pages }}
                    <!-- Prepare a compressed version of the feature image to use as a background/thumbnail -->
                    {{ $bg_img_path := print "img/" .Params.image }}
                    {{ $bg_img := resources.Get $bg_img_path}}
                    {{ $bg_img_compressed := $bg_img.Resize "x480" }}

                    <div class="posts-showcase-post">
                        <a href=" {{ .RelPermalink }} ">
                            <div style="background-image: url('{{ $bg_img_compressed.RelPermalink }}')"></div>
                            <h1 style=" -webkit-text-stroke: 1px color-mix(in srgb, {{ index $bg_img_compressed.Colors 1}} 50%, white)">{{ .Title }}</h1>
                            <time>{{ .Date.Format "Mon Jan 2, 2006" }}</time>
                            <p>{{ .Description }}</p>
                            
                            <ul class="post-tags">
                                {{- with .Params.tags -}}
                                    {{- if ge (len .) 1 -}}
                                        {{- range . -}}
                                        <li class="post-tag">{{ . }}</li>
                                        {{ end -}}
                                    {{- end -}}
                                {{- end -}}
                            </ul>
                        </a>
                    </div>
                {{ end }}
            {{ end }}
        </div>

        <img src="/img/about-extended.svg" style="user-select: none;" draggable="false">
    </div>
    
    <div id="contact">
        <fit-text>CONTACT <span>ME</span></fit-text>
        <p>
            The best method to reach me is via e-mail at <a href="mailto:{{ .Site.Params.contact.email }}">{{ .Site.Params.contact.email }}</a>, 
            for more urgent inquires you can contact me through Discord <span style="font-weight: 400;">{{ .Site.Params.contact.discord }}</span>.
        </p>
    </div>
</div>

{{ end }}