{{ define "main" }}

{{ partial "nav.html" . }}

{{ partial "grid.html" . }}

<div class="cube-container" style="top: 25%; left: 30%;">
    {{ partial "cube.html" . }}
</div>
<div class="cube-container" style="top: 75%; right: 30%;">
    {{ partial "cube.html" . }}
</div>


<div class="content-wrapper">
    <div id="about">
        <img src="/img/about-main.svg" style="user-select: none;" draggable="false">
    </div>
    
    <div id="projects">
        <div class="posts-wrapper">
            <div class="posts-tags">
                <ul>
                    <li class="posts-tag posts-tag-selected">all</li>
                    {{ range $name, $taxonomy := .Site.Taxonomies.tags }}
                        <li class="posts-tag">{{ $name }}</li>
                    {{ end }}
                </ul>
            </div>

            <div class="msnry-grid">
                {{ range (where .Site.Pages "Section" "projects") }}
                    {{ range .Pages }}
                        <!-- Prepare a compressed version of the feature image to use as a background -->
                        {{ $bg_img_path := print "img/" .Params.image }}
                        {{ $bg_img := resources.Get $bg_img_path}}
                        {{ $bg_img_compressed := $bg_img.Resize "x480" }}

                        <div class="posts-post msnry-grid-item" style="background-image: url('{{ $bg_img_compressed.RelPermalink }}')">
                            <h1>{{ .Title }}</h1>
                            <h3>{{ .Date.Format "Mon Jan 2, 2006" }}</h3>
                            <h2>{{ .Description }}</h2>
                            <ul>
                                {{ range $name, $tag := .Site.Taxonomies.tags }}
                                    <li class="posts-tag">{{ $name }}</li>
                                {{ end }}
                            </ul>
                        </div>
                    {{ end }}
                {{ end }}
            </div>
        </div>

        <img src="/img/about-extended.svg" style="user-select: none;" draggable="false">
    </div>
    
    <div id="contact">
        <!-- INCLUDE CONTACT HERE --> 
    </div>
</div>

{{ end }}